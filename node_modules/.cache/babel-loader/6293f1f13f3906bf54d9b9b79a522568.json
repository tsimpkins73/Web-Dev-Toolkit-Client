{"ast":null,"code":"import TokenService from '../services/token-service';\nimport { API_BASE_URL } from '../config';\nconst ArticleService = {\n  getArticles() {\n    return fetch(\"\".concat(API_BASE_URL, \"/articles\"), {\n      headers: {}\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  getArticle(articleId) {\n    return fetch(\"\".concat(API_BASE_URL, \"/articles/\").concat(articleId), {\n      headers: {\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      }\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  getArticleComments(articleId) {\n    return fetch(\"\".concat(API_BASE_URL, \"/articles/\").concat(articleId, \"/comments\"), {\n      headers: {\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      }\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  postComment(article_id, text, user_id) {\n    return fetch(\"\".concat(API_BASE_URL, \"/comments\"), {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      },\n      body: JSON.stringify({\n        article_id: article_id,\n        text: text,\n        user_id: user_id\n      })\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  deleteComment(commentId) {\n    return fetch(\"\".concat(API_BASE_URL, \"/comments/\").concat(commentId), {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      },\n      body: JSON.stringify({\n        commentId: commentId\n      })\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  }\n\n};\nexport default ArticleService;","map":{"version":3,"sources":["c:/Users/t73de/Desktop/the console/src/services/article-service.js"],"names":["TokenService","API_BASE_URL","ArticleService","getArticles","fetch","headers","then","res","ok","json","e","Promise","reject","getArticle","articleId","getAuthToken","getArticleComments","postComment","article_id","text","user_id","method","body","JSON","stringify","deleteComment","commentId"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,2BAAzB;AACA,SAASC,YAAT,QAA6B,WAA7B;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,WAAW,GAAG;AACZ,WAAOC,KAAK,WAAIH,YAAJ,gBAA6B;AACvCI,MAAAA,OAAO,EAAE;AAD8B,KAA7B,CAAL,CAIJC,IAJI,CAICC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAPD,CAAP;AASD,GAXoB;;AAYrBI,EAAAA,UAAU,CAACC,SAAD,EAAY;AACpB,WAAOV,KAAK,WAAIH,YAAJ,uBAA6Ba,SAA7B,GAA0C;AACpDT,MAAAA,OAAO,EAAE;AACP,0CAA2BL,YAAY,CAACe,YAAb,EAA3B;AADO;AAD2C,KAA1C,CAAL,CAKJT,IALI,CAKCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EARD,CAAP;AAUD,GAvBoB;;AAwBrBO,EAAAA,kBAAkB,CAACF,SAAD,EAAY;AAC5B,WAAOV,KAAK,WAAIH,YAAJ,uBAA6Ba,SAA7B,gBAAmD;AAC7DT,MAAAA,OAAO,EAAE;AACP,0CAA2BL,YAAY,CAACe,YAAb,EAA3B;AADO;AADoD,KAAnD,CAAL,CAKJT,IALI,CAKCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EARD,CAAP;AAUD,GAnCoB;;AAoCrBQ,EAAAA,WAAW,CAACC,UAAD,EAAaC,IAAb,EAAmBC,OAAnB,EAA4B;AACrC,WAAOhB,KAAK,WAAIH,YAAJ,gBAA6B;AACvCoB,MAAAA,MAAM,EAAE,MAD+B;AAEvChB,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,0CAA2BL,YAAY,CAACe,YAAb,EAA3B;AAFO,OAF8B;AAMvCO,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBN,QAAAA,UAAU,EAAEA,UADO;AAEnBC,QAAAA,IAAI,EAAEA,IAFa;AAGnBC,QAAAA,OAAO,EAAEA;AAHU,OAAf;AANiC,KAA7B,CAAL,CAaJd,IAbI,CAaCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAhBD,CAAP;AAkBD,GAvDoB;;AA0DrBgB,EAAAA,aAAa,CAACC,SAAD,EAAY;AACvB,WAAOtB,KAAK,WAAIH,YAAJ,uBAA6ByB,SAA7B,GAA0C;AACpDL,MAAAA,MAAM,EAAE,QAD4C;AAEpDhB,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,0CAA2BL,YAAY,CAACe,YAAb,EAA3B;AAFO,OAF2C;AAMpDO,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBE,QAAAA,SAAS,EAAEA;AADQ,OAAf;AAN8C,KAA1C,CAAL,CAUJpB,IAVI,CAUCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAbD,CAAP;AAeD;;AA1EoB,CAAvB;AA6EA,eAAeP,cAAf","sourcesContent":["import TokenService from '../services/token-service'\r\nimport { API_BASE_URL } from '../config'\r\n\r\nconst ArticleService = {\r\n  getArticles() {\r\n    return fetch(`${API_BASE_URL}/articles`, {\r\n      headers: {\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  getArticle(articleId) {\r\n    return fetch(`${API_BASE_URL}/articles/${articleId}`, {\r\n      headers: {\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  getArticleComments(articleId) {\r\n    return fetch(`${API_BASE_URL}/articles/${articleId}/comments`, {\r\n      headers: {\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  postComment(article_id, text, user_id) {\r\n    return fetch(`${API_BASE_URL}/comments`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n      body: JSON.stringify({\r\n        article_id: article_id,\r\n        text: text,\r\n        user_id: user_id,\r\n\r\n      }),\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n\r\n\r\n  deleteComment(commentId) {\r\n    return fetch(`${API_BASE_URL}/comments/${commentId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: commentId\r\n      }),\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  }\r\n}\r\n\r\nexport default ArticleService\r\n"]},"metadata":{},"sourceType":"module"}