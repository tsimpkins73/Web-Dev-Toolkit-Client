{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{BrowserRouter,Route}from\"react-router-dom\";import LandingPage from'./LandingPage.js';import LoginForm from'./LoginForm.js';import SignUpForm from'./SignUpForm.js';import Dashboard from'./Dashboard.js';import{API_BASE_URL}from'./config';require('dotenv').config();var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props,context){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props,context));_this.clearUser=function(){_this.setState({currentUser:{}});localStorage[\"user\"]='null';};_this.handleFavoriteButton=function(article){article.favorite=!article.favorite;_this.setState({articles:_this.state.articles});};_this.handleSearchForm=function(event){event.preventDefault();var term=event.currentTarget.searchTerm.value;_this.setState({searchterm:term});};_this.onLoginSuccess=function(username){fetch(\"\".concat(API_BASE_URL,\"/users/\").concat(username)).then(function(response){return response.json();}).then(function(currentUser){_this.setState({currentUser:currentUser});localStorage[\"user\"]=JSON.stringify(currentUser);});};_this.state={resources:[],types:[],resourcesForTypes:[],typeResources:[],searchterm:'',searchResources:[],currentUser:{},users:[]};return _this;}_createClass(App,[{key:\"getResources\",/*   getResourcesForTypes = () => {\r\n    fetch(`${API_BASE_URL}/resourcesTypes/`)\r\n      .then(response => response.json())\r\n      .then((typeResources) => { this.setState({ typeResources }); });\r\n  } */value:function getResources(){var _this2=this;fetch(\"\".concat(API_BASE_URL,\"/resources\")).then(function(response){return response.json();}).then(function(resources){_this2.setState({resources:resources});});}},{key:\"getTypes\",value:function getTypes(){var _this3=this;fetch(\"\".concat(API_BASE_URL,\"/types\")).then(function(response){return response.json();}).then(function(types){_this3.setState({types:types});});}},{key:\"getUsers\",value:function getUsers(){var _this4=this;fetch(\"\".concat(API_BASE_URL,\"/users\")).then(function(response){return response.json();}).then(function(users){_this4.setState({users:users});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getResources();this.getTypes();this.getUsers();if(localStorage[\"user\"]){var user=JSON.parse(localStorage[\"user\"]);this.setState({currentUser:user});}}},{key:\"render\",value:function render(){var _this5=this;return React.createElement(\"main\",{className:\"App\"},React.createElement(BrowserRouter,null,React.createElement(Route,{exact:true,path:'/',render:function render(props){return React.createElement(LandingPage,Object.assign({},props,{resources:_this5.state.resources,handleFavoriteButton:_this5.handleFavoriteButton,clearUser:_this5.clearUser,currentresource:_this5.state.currentArticle}));}}),React.createElement(Route,{path:'/login',render:function render(props){return React.createElement(LoginForm,Object.assign({onLoginSuccess:_this5.onLoginSuccess},props));}}),React.createElement(Route,{path:'/sign-up',component:SignUpForm}),React.createElement(Route,{path:'/dashboard',render:function render(props){var _Object$assign;return React.createElement(Dashboard,Object.assign({},props,(_Object$assign={handleArticleButton:_this5.handleArticleButton,users:_this5.state.users,resources:_this5.state.resources,types:_this5.state.types,searchterm:_this5.state.searchterm,currentUser:_this5.state.currentUser},_defineProperty(_Object$assign,\"types\",_this5.state.types),_defineProperty(_Object$assign,\"handleSearchForm\",_this5.handleSearchForm),_defineProperty(_Object$assign,\"handleFavoriteButton\",_this5.handleFavoriteButton),_defineProperty(_Object$assign,\"clearUser\",_this5.clearUser),_defineProperty(_Object$assign,\"currentresource\",_this5.state.currentArticle),_Object$assign)));}})));}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"sources":["C:/Users/GRAPHICS/Desktop/Web-Dev-Toolkit/Web-Dev-Toolkit-Client/src/App.js"],"names":["React","BrowserRouter","Route","LandingPage","LoginForm","SignUpForm","Dashboard","API_BASE_URL","require","config","App","props","context","clearUser","setState","currentUser","localStorage","handleFavoriteButton","article","favorite","articles","state","handleSearchForm","event","preventDefault","term","currentTarget","searchTerm","value","searchterm","onLoginSuccess","username","fetch","then","response","json","JSON","stringify","resources","types","resourcesForTypes","typeResources","searchResources","users","getResources","getTypes","getUsers","user","parse","currentArticle","handleArticleButton","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport LandingPage from './LandingPage.js'\r\nimport LoginForm from './LoginForm.js'\r\nimport SignUpForm from './SignUpForm.js'\r\nimport Dashboard from './Dashboard.js'\r\nimport { API_BASE_URL } from './config'\r\nrequire('dotenv').config();\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      resources: [],\r\n      types: [],\r\n      resourcesForTypes: [],\r\n      typeResources: [],\r\n      searchterm: '',\r\n      searchResources: [],\r\n      currentUser: {},\r\n      users: [],\r\n    };\r\n  }\r\n\r\n\r\n\r\nclearUser = () => {\r\n  this.setState({currentUser:{}});\r\n  localStorage[\"user\"]= 'null';\r\n}\r\n\r\n\r\n  handleFavoriteButton = (article) => {\r\n    article.favorite = !article.favorite;\r\n    this.setState({\r\n      articles: this.state.articles\r\n    });\r\n  }\r\n\r\n  handleSearchForm = (event) => {\r\n    event.preventDefault();\r\n    const term = event.currentTarget.searchTerm.value;\r\n    this.setState({\r\n      searchterm: term\r\n    });\r\n  }\r\n  \r\n\r\n  onLoginSuccess = (username) => {\r\n    fetch(`${API_BASE_URL}/users/${username}`)\r\n      .then(response => response.json())\r\n      .then((currentUser) => { \r\n        this.setState({ currentUser }); \r\n        localStorage[\"user\"]= JSON.stringify(currentUser)\r\n     });\r\n  }\r\n\r\n/*   getResourcesForTypes = () => {\r\n    fetch(`${API_BASE_URL}/resourcesTypes/`)\r\n      .then(response => response.json())\r\n      .then((typeResources) => { this.setState({ typeResources }); });\r\n  } */\r\n\r\n  getResources() {\r\n    fetch(`${API_BASE_URL}/resources`)\r\n      .then(response => response.json())\r\n      .then((resources) => { this.setState({ resources }); });\r\n  }\r\n    getTypes() {\r\n       fetch(`${API_BASE_URL}/types`)\r\n      .then(response => response.json())\r\n      .then((types) => { this.setState({ types }); });\r\n  }\r\n\r\n  getUsers() {\r\n    fetch(`${API_BASE_URL}/users`)\r\n   .then(response => response.json())\r\n   .then((users) => { this.setState({ users }); });\r\n}\r\n\r\n  componentDidMount() {\r\n    this.getResources();\r\n    this.getTypes();\r\n    this.getUsers();\r\n    if(localStorage[\"user\"]){\r\n      const user = JSON.parse(localStorage[\"user\"]);\r\n      this.setState({currentUser: user});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <main className='App'>\r\n      <BrowserRouter>\r\n        <Route exact path={'/'} render={(props) => <LandingPage {...props} resources={this.state.resources}  handleFavoriteButton={this.handleFavoriteButton} clearUser={this.clearUser} currentresource={this.state.currentArticle} />} />\r\n        <Route path={'/login'} render={(props) => <LoginForm onLoginSuccess={this.onLoginSuccess} {...props} />} />\r\n          <Route path={'/sign-up'} component={SignUpForm} />\r\n        <Route path={'/dashboard'} render={(props) => <Dashboard {...props} handleArticleButton={this.handleArticleButton} users={this.state.users} resources={this.state.resources} types={this.state.types} searchterm={this.state.searchterm} currentUser={this.state.currentUser} types={this.state.types} handleSearchForm={this.handleSearchForm} handleFavoriteButton={this.handleFavoriteButton} clearUser={this.clearUser} currentresource={this.state.currentArticle} />} />\r\n      </BrowserRouter>\r\n    </main>\r\n  );\r\n}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}