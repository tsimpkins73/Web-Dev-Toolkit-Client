{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GRAPHICS\\\\Desktop\\\\Web-Dev-Toolkit\\\\Web-Dev-Toolkit-Client\\\\src\\\\App.js\";\nimport React from 'react';\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport LandingPage from './LandingPage.js';\nimport LoginForm from './LoginForm.js';\nimport SignUpForm from './SignUpForm.js';\nimport Dashboard from './Dashboard.js';\nimport { API_BASE_URL } from './config';\nexport default class App extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.clearUser = () => {\n      this.setState({\n        currentUser: {}\n      });\n      localStorage[\"user\"] = 'null';\n    };\n\n    this.handleFavoriteButton = article => {\n      article.favorite = !article.favorite;\n      this.setState({\n        articles: this.state.articles\n      });\n    };\n\n    this.handleSearchForm = event => {\n      event.preventDefault();\n      const term = event.currentTarget.searchTerm.value;\n      this.setState({\n        searchterm: term\n      });\n    };\n\n    this.handleURLButton = resourceURL => {\n      window.location.href = resourceURL;\n    };\n\n    this.onLoginSuccess = username => {\n      console.log(username);\n      fetch(\"\".concat(API_BASE_URL, \"/users/\").concat(username)).then(response => response.json()).then(currentUser => {\n        this.setState({\n          currentUser\n        });\n        localStorage[\"user\"] = JSON.stringify(currentUser);\n      });\n    };\n\n    this.state = {\n      resources: [],\n      types: [],\n      resourcesForTypes: [],\n      typeResources: [],\n      searchterm: '',\n      searchResources: [],\n      currentUser: {},\n      users: []\n    };\n  }\n\n  /*   getResourcesForTypes = () => {\r\n      fetch(`${API_BASE_URL}/resourcesTypes/`)\r\n        .then(response => response.json())\r\n        .then((typeResources) => { this.setState({ typeResources }); });\r\n    } */\n  getResources() {\n    fetch(\"\".concat(API_BASE_URL, \"/resources\")).then(response => response.json()).then(resources => {\n      this.setState({\n        resources\n      });\n    });\n  }\n\n  getTypes() {\n    fetch(\"\".concat(API_BASE_URL, \"/types\")).then(response => response.json()).then(types => {\n      this.setState({\n        types\n      });\n    });\n  }\n\n  getUsers() {\n    fetch(\"\".concat(API_BASE_URL, \"/users\")).then(response => response.json()).then(users => {\n      this.setState({\n        users\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getResources();\n    this.getTypes();\n    this.getUsers();\n\n    if (localStorage[\"user\"]) {\n      const user = JSON.parse(localStorage[\"user\"]);\n      this.setState({\n        currentUser: user\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.resources);\n    console.log(this.state.types);\n    console.log(this.state.users);\n    return React.createElement(\"main\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: '/',\n      render: props => React.createElement(LandingPage, Object.assign({}, props, {\n        handleURLButton: this.handleURLButton,\n        resources: this.state.resources,\n        handleFavoriteButton: this.handleFavoriteButton,\n        clearUser: this.clearUser,\n        currentresource: this.state.currentArticle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/login',\n      render: props => React.createElement(LoginForm, Object.assign({\n        onLoginSuccess: this.onLoginSuccess\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/sign-up',\n      component: SignUpForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/dashboard',\n      render: props => React.createElement(Dashboard, Object.assign({}, props, {\n        handleURLButton: this.handleURLButton,\n        users: this.state.users,\n        resources: this.state.resources,\n        types: this.state.types,\n        searchterm: this.state.searchterm,\n        currentUser: this.state.currentUser,\n        types: this.state.types,\n        handleSearchForm: this.handleSearchForm,\n        handleFavoriteButton: this.handleFavoriteButton,\n        clearUser: this.clearUser,\n        currentresource: this.state.currentArticle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/GRAPHICS/Desktop/Web-Dev-Toolkit/Web-Dev-Toolkit-Client/src/App.js"],"names":["React","BrowserRouter","Route","LandingPage","LoginForm","SignUpForm","Dashboard","API_BASE_URL","App","Component","constructor","props","context","clearUser","setState","currentUser","localStorage","handleFavoriteButton","article","favorite","articles","state","handleSearchForm","event","preventDefault","term","currentTarget","searchTerm","value","searchterm","handleURLButton","resourceURL","window","location","href","onLoginSuccess","username","console","log","fetch","then","response","json","JSON","stringify","resources","types","resourcesForTypes","typeResources","searchResources","users","getResources","getTypes","getUsers","componentDidMount","user","parse","render","currentArticle"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport LandingPage from './LandingPage.js'\r\nimport LoginForm from './LoginForm.js'\r\nimport SignUpForm from './SignUpForm.js'\r\nimport Dashboard from './Dashboard.js'\r\nimport { API_BASE_URL } from './config'\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      resources: [],\r\n      types: [],\r\n      resourcesForTypes: [],\r\n      typeResources: [],\r\n      searchterm: '',\r\n      searchResources: [],\r\n      currentUser: {},\r\n      users: [],\r\n    };\r\n  }\r\n\r\n\r\n\r\nclearUser = () => {\r\n  this.setState({currentUser:{}});\r\n  localStorage[\"user\"]= 'null';\r\n}\r\n\r\n\r\n  handleFavoriteButton = (article) => {\r\n    article.favorite = !article.favorite;\r\n    this.setState({\r\n      articles: this.state.articles\r\n    });\r\n  }\r\n\r\n  handleSearchForm = (event) => {\r\n    event.preventDefault();\r\n    const term = event.currentTarget.searchTerm.value;\r\n    this.setState({\r\n      searchterm: term\r\n    });\r\n  }\r\n\r\n  handleURLButton = (resourceURL) => {\r\n    window.location.href= resourceURL;\r\n\r\n}\r\n\r\n  onLoginSuccess = (username) => {\r\n    console.log(username);\r\n    fetch(`${API_BASE_URL}/users/${username}`)\r\n      .then(response => response.json())\r\n      .then((currentUser) => { \r\n        this.setState({ currentUser }); \r\n        localStorage[\"user\"]= JSON.stringify(currentUser)\r\n     });\r\n  }\r\n\r\n/*   getResourcesForTypes = () => {\r\n    fetch(`${API_BASE_URL}/resourcesTypes/`)\r\n      .then(response => response.json())\r\n      .then((typeResources) => { this.setState({ typeResources }); });\r\n  } */\r\n\r\n  getResources() {\r\n    fetch(`${API_BASE_URL}/resources`)\r\n      .then(response => response.json())\r\n      .then((resources) => { this.setState({ resources }); });\r\n  }\r\n    getTypes() {\r\n       fetch(`${API_BASE_URL}/types`)\r\n      .then(response => response.json())\r\n      .then((types) => { this.setState({ types }); });\r\n  }\r\n\r\n  getUsers() {\r\n    fetch(`${API_BASE_URL}/users`)\r\n   .then(response => response.json())\r\n   .then((users) => { this.setState({ users }); });\r\n}\r\n\r\n  componentDidMount() {\r\n    this.getResources();\r\n    this.getTypes();\r\n    this.getUsers();\r\n    if(localStorage[\"user\"]){\r\n      const user = JSON.parse(localStorage[\"user\"]);\r\n      this.setState({currentUser: user});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state.resources);\r\n    console.log(this.state.types);\r\n    console.log(this.state.users);\r\n    return (\r\n    <main className='App'>\r\n      <BrowserRouter>\r\n        <Route exact path={'/'} render={(props) => <LandingPage {...props} handleURLButton={this.handleURLButton} resources={this.state.resources}  handleFavoriteButton={this.handleFavoriteButton} clearUser={this.clearUser} currentresource={this.state.currentArticle} />} />\r\n        <Route path={'/login'} render={(props) => <LoginForm onLoginSuccess={this.onLoginSuccess} {...props} />} />\r\n          <Route path={'/sign-up'} component={SignUpForm} />\r\n        <Route path={'/dashboard'} render={(props) => <Dashboard {...props} handleURLButton={this.handleURLButton} users={this.state.users} resources={this.state.resources} types={this.state.types} searchterm={this.state.searchterm} currentUser={this.state.currentUser} types={this.state.types} handleSearchForm={this.handleSearchForm} handleFavoriteButton={this.handleFavoriteButton} clearUser={this.clearUser} currentresource={this.state.currentArticle} />} />\r\n      </BrowserRouter>\r\n    </main>\r\n  );\r\n}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}