{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\t73de\\\\Desktop\\\\the console\\\\src\\\\CommentsList.js\";\nimport React from 'react';\nimport { Route } from \"react-router-dom\";\nimport CommentView from './CommentView.js';\nimport AddCommentView from './AddCommentView.js';\nimport { API_BASE_URL } from './config'; //import './CommentsList.css'\n\nexport default class CommentsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      articleComments: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.articleId) {\n      fetch(\"\".concat(API_BASE_URL, \"/comments/\").concat(this.props.articleId)).then(response => response.json()).then(articleComments => {\n        this.setState({\n          articleComments\n        });\n      });\n      console.log(this.state.articleComments);\n    } else {\n      this.setState({\n        articleComments: []\n      });\n    }\n\n    console.log(this.state.articleComments);\n  }\n\n  render() {\n    const comments = this.state.articleComments;\n    const users = this.props.users;\n    return React.createElement(\"div\", {\n      id: \"articleComments\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: '/dashboard/article/:id/comment',\n      component: AddCommentView,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }), comments.map(function (comment) {\n      let userName = this.props.users.filter(users.id == comment.user_id);\n      return React.createElement(CommentView, {\n        comment: comment,\n        userName: userName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      });\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/t73de/Desktop/the console/src/CommentsList.js"],"names":["React","Route","CommentView","AddCommentView","API_BASE_URL","CommentsList","Component","constructor","props","state","articleComments","componentDidMount","articleId","fetch","then","response","json","setState","console","log","render","comments","users","map","comment","userName","filter","id","user_id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,SAASC,YAAT,QAA6B,UAA7B,C,CACA;;AAEA,eAAe,MAAMC,YAAN,SAA2BL,KAAK,CAACM,SAAjC,CAA2C;AACtDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AACRC,MAAAA,eAAe,EAAC;AADR,KAAZ;AAGH;;AAEDC,EAAAA,iBAAiB,GAAI;AACjB,QAAI,KAAKH,KAAL,CAAWI,SAAf,EAAyB;AAErBC,MAAAA,KAAK,WAAIT,YAAJ,uBAA6B,KAAKI,KAAL,CAAWI,SAAxC,EAAL,CACHE,IADG,CACEC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADd,EAEHF,IAFG,CAEGJ,eAAD,IAAqB;AAAE,aAAKO,QAAL,CAAc;AAAEP,UAAAA;AAAF,SAAd;AAAqC,OAF9D;AAGJQ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWC,eAAvB;AACC,KAND,MAOI;AACA,WAAKO,QAAL,CAAc;AAACP,QAAAA,eAAe,EAAC;AAAjB,OAAd;AACH;;AACDQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWC,eAAvB;AACH;;AAEDU,EAAAA,MAAM,GAAG;AACL,UAAMC,QAAQ,GAAE,KAAKZ,KAAL,CAAWC,eAA3B;AACA,UAAMY,KAAK,GAAE,KAAKd,KAAL,CAAWc,KAAxB;AACA,WACA;AAAK,MAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,gCAAb;AAA+C,MAAA,SAAS,EAAEnB,cAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEKkB,QAAQ,CAACE,GAAT,CAAa,UAAUC,OAAV,EAAmB;AAC7B,UAAIC,QAAQ,GAAC,KAAKjB,KAAL,CAAWc,KAAX,CAAiBI,MAAjB,CAAwBJ,KAAK,CAACK,EAAN,IAAYH,OAAO,CAACI,OAA5C,CAAb;AACI,aAAO,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAEJ,OAAtB;AAA+B,QAAA,QAAQ,EAAEC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAHJ,CAFL,CADA;AASK;;AAlC6C","sourcesContent":["import React from 'react'\r\nimport { Route } from \"react-router-dom\";\r\nimport CommentView from './CommentView.js'\r\nimport AddCommentView from './AddCommentView.js'\r\nimport { API_BASE_URL } from './config'\r\n//import './CommentsList.css'\r\n\r\nexport default class CommentsList extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state= {\r\n            articleComments:[]\r\n        };\r\n    }\r\n \r\n    componentDidMount () {\r\n        if (this.props.articleId){\r\n            \r\n            fetch(`${API_BASE_URL}/comments/${this.props.articleId}`)\r\n        .then(response => response.json())\r\n        .then((articleComments) => { this.setState({ articleComments }); });\r\n        console.log(this.state.articleComments);\r\n        }\r\n        else{\r\n            this.setState({articleComments:[]})\r\n        }\r\n        console.log(this.state.articleComments)\r\n    }\r\n\r\n    render() {\r\n        const comments= this.state.articleComments;\r\n        const users= this.props.users; \r\n        return (\r\n        <div id=\"articleComments\">\r\n            <Route path={'/dashboard/article/:id/comment'} component={AddCommentView} />\r\n            {comments.map(function (comment) {\r\n                let userName=this.props.users.filter(users.id == comment.user_id);\r\n                    return <CommentView comment={comment} userName={userName} />;\r\n                })}\r\n            </div>\r\n                           );\r\n            }\r\n}"]},"metadata":{},"sourceType":"module"}