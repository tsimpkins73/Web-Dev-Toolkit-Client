{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\t73de\\\\Desktop\\\\the console\\\\src\\\\App.js\";\nimport React from 'react';\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport LandingPage from './LandingPage.js';\nimport LoginForm from './LoginForm.js';\nimport SignUpForm from './SignUpForm.js';\nimport Dashboard from './Dashboard.js';\nimport { API_BASE_URL } from './config';\nexport default class App extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.clearUser = () => {\n      this.setState({\n        currentUser: {}\n      });\n    };\n\n    this.handleFavoriteButton = article => {\n      article.favorite = !article.favorite;\n      this.setState({\n        articles: this.state.articles\n      });\n    };\n\n    this.handleArticleButton = article_id => {\n      let articleId = article_id;\n      let articles = this.state.articles;\n      let article = articles.find(a => a.id == articleId);\n      console.log(article);\n      this.setState({\n        currentArticle: article\n      });\n    };\n\n    this.handleSearchForm = event => {\n      event.preventDefault();\n      const term = event.currentTarget.searchTerm.value;\n      this.setState({\n        searchterm: term\n      });\n    };\n\n    this.onLoginSuccess = username => {\n      console.log(username);\n      fetch(\"\".concat(API_BASE_URL, \"/users/\").concat(username)).then(response => response.json()).then(currentUser => {\n        this.setState({\n          currentUser\n        });\n        localStorage[\"user\"] = JSON.stringify(currentUser);\n      });\n    };\n\n    this.getArticlesByCategory = category => {\n      let selectedCategory = this.state.categories.find(c => c.name === category);\n      let categoryID = selectedCategory.id;\n      fetch(\"\".concat(API_BASE_URL, \"/articles/category/\").concat(categoryID)).then(response => response.json()).then(categoryArticles => {\n        this.setState({\n          categoryArticles\n        });\n      });\n    };\n\n    this.state = {\n      articles: [],\n      categories: [],\n      currentArticle: [],\n      lpArticle: {},\n      categoryArticles: [],\n      searchterm: '',\n      searchArticles: [],\n      currentUser: {},\n      users: [],\n      currentArticle: {}\n    };\n  }\n\n  getArticles() {\n    fetch(\"\".concat(API_BASE_URL, \"/articles\")).then(response => response.json()).then(articles => {\n      this.setState({\n        articles\n      });\n    });\n  }\n\n  getCategories() {\n    fetch(\"\".concat(API_BASE_URL, \"/categories\")).then(response => response.json()).then(categories => {\n      this.setState({\n        categories\n      });\n    });\n  }\n\n  getUsers() {\n    fetch(\"\".concat(API_BASE_URL, \"/users\")).then(response => response.json()).then(users => {\n      this.setState({\n        users\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getArticles();\n    this.getCategories();\n    this.getUsers();\n\n    if (localStorage[\"user\"]) {\n      const user = JSON.parse(localStorage[\"user\"]);\n      this.setState({\n        currentUser: user\n      });\n    }\n  }\n\n  render() {\n    const lpArticle = this.state.articles[0];\n    console.log(this.state.users);\n    console.log(this.state.articles);\n    return React.createElement(\"main\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: '/',\n      render: () => React.createElement(LandingPage, {\n        lpArticle: lpArticle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/login',\n      render: props => React.createElement(LoginForm, Object.assign({\n        onLoginSuccess: this.onLoginSuccess\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/sign-up',\n      component: SignUpForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/dashboard',\n      render: props => React.createElement(Dashboard, Object.assign({}, props, {\n        handleArticleButton: this.handleArticleButton,\n        users: this.state.users,\n        articles: this.state.articles,\n        setComment: this.setComment,\n        searchterm: this.state.searchterm,\n        currentUser: this.state.currentUser,\n        categories: this.state.categories,\n        handleSearchForm: this.handleSearchForm,\n        handleFavoriteButton: this.handleFavoriteButton,\n        clearUser: this.clearUser,\n        currentArticle: this.state.currentArticle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["c:/Users/t73de/Desktop/the console/src/App.js"],"names":["React","BrowserRouter","Route","LandingPage","LoginForm","SignUpForm","Dashboard","API_BASE_URL","App","Component","constructor","props","context","clearUser","setState","currentUser","handleFavoriteButton","article","favorite","articles","state","handleArticleButton","article_id","articleId","find","a","id","console","log","currentArticle","handleSearchForm","event","preventDefault","term","currentTarget","searchTerm","value","searchterm","onLoginSuccess","username","fetch","then","response","json","localStorage","JSON","stringify","getArticlesByCategory","category","selectedCategory","categories","c","name","categoryID","categoryArticles","lpArticle","searchArticles","users","getArticles","getCategories","getUsers","componentDidMount","user","parse","render","setComment"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport LandingPage from './LandingPage.js'\r\nimport LoginForm from './LoginForm.js'\r\nimport SignUpForm from './SignUpForm.js'\r\nimport Dashboard from './Dashboard.js'\r\nimport { API_BASE_URL } from './config'\r\n\r\n\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      articles: [],\r\n      categories: [],\r\n      currentArticle: [],\r\n      lpArticle: {},\r\n      categoryArticles: [],\r\n      searchterm: '',\r\n      searchArticles: [],\r\n      currentUser: {},\r\n      users: [],\r\n      currentArticle:{}\r\n    };\r\n  }\r\n\r\n\r\n\r\nclearUser = () => {\r\n  this.setState({currentUser:{}});\r\n}\r\n\r\n\r\n  handleFavoriteButton = (article) => {\r\n    article.favorite = !article.favorite;\r\n    this.setState({\r\n      articles: this.state.articles\r\n    });\r\n  }\r\n\r\n  handleArticleButton = (article_id) => {\r\n    let articleId = article_id\r\n    let articles = this.state.articles\r\n    let article = (articles.find(a => (a.id == articleId)))\r\n    console.log(article);\r\n    this.setState({ currentArticle: article });\r\n  }\r\n\r\n  handleSearchForm = (event) => {\r\n    event.preventDefault();\r\n    const term = event.currentTarget.searchTerm.value;\r\n    this.setState({\r\n      searchterm: term\r\n    });\r\n  }\r\n\r\n  onLoginSuccess = (username) => {\r\n    console.log(username);\r\n    fetch(`${API_BASE_URL}/users/${username}`)\r\n      .then(response => response.json())\r\n      .then((currentUser) => { \r\n        this.setState({ currentUser }); \r\n        localStorage[\"user\"]= JSON.stringify(currentUser)\r\n     });\r\n  }\r\n\r\n  getArticlesByCategory = (category) => {\r\n    let selectedCategory = this.state.categories.find(c => (c.name === category))\r\n    let categoryID = selectedCategory.id\r\n    fetch(`${API_BASE_URL}/articles/category/${categoryID}`)\r\n      .then(response => response.json())\r\n      .then((categoryArticles) => { this.setState({ categoryArticles }); });\r\n  }\r\n\r\n  getArticles() {\r\n    fetch(`${API_BASE_URL}/articles`)\r\n      .then(response => response.json())\r\n      .then((articles) => { this.setState({ articles }); });\r\n  }\r\n    getCategories() {\r\n       fetch(`${API_BASE_URL}/categories`)\r\n      .then(response => response.json())\r\n      .then((categories) => { this.setState({ categories }); });\r\n  }\r\n\r\n  getUsers() {\r\n    fetch(`${API_BASE_URL}/users`)\r\n   .then(response => response.json())\r\n   .then((users) => { this.setState({ users }); });\r\n}\r\n\r\n  componentDidMount() {\r\n    this.getArticles();\r\n    this.getCategories();\r\n    this.getUsers();\r\n    if(localStorage[\"user\"]){\r\n      const user = JSON.parse(localStorage[\"user\"]);\r\n      this.setState({currentUser: user});\r\n    }\r\n  }\r\n  \r\n    render() {\r\n    const lpArticle = this.state.articles[0];\r\n    console.log(this.state.users);\r\n    console.log(this.state.articles);\r\n    return (\r\n      <main className='App'>\r\n        <BrowserRouter>\r\n          <Route exact path={'/'} render={() => <LandingPage lpArticle={lpArticle} />} />\r\n          <Route path={'/login'} render={(props) => <LoginForm onLoginSuccess={this.onLoginSuccess} {...props} />} />\r\n          <Route path={'/sign-up'} component={SignUpForm} />\r\n          <Route path={'/dashboard'} render={(props) => <Dashboard {...props} handleArticleButton={this.handleArticleButton} users={this.state.users} articles={this.state.articles} setComment={this.setComment} searchterm={this.state.searchterm} currentUser={this.state.currentUser} categories={this.state.categories} handleSearchForm={this.handleSearchForm} handleFavoriteButton={this.handleFavoriteButton} clearUser={this.clearUser} currentArticle={this.state.currentArticle} />} />\r\n        </BrowserRouter>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}