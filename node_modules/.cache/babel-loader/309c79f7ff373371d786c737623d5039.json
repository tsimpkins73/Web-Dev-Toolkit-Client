{"ast":null,"code":"/*\n  Idle Service\n\n  this service manages when a user has gone idle (not interacting with the page).\n*/\nlet _timeoutId;\n\nlet _idleCallback = null;\nlet _notIdleEvents = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];\n\nlet _FIVE_MINUTES_IN_MS = 5 * 60 * 1000;\n\nconst IdleService = {\n  setIdleCallback(idleCallback) {\n    /* store a callback to call when the user goes idle */\n    _idleCallback = idleCallback;\n  },\n\n  /* called when a user interacts with the page */\n  resetIdleTimer(ev) {\n    console.info('event:', ev.type);\n    /* remove any timeouts as the user just interacted */\n\n    clearTimeout(_timeoutId);\n    /* queue the callback to happen 5 minutes from now */\n\n    _timeoutId = setTimeout(_idleCallback, _FIVE_MINUTES_IN_MS);\n  },\n\n  regiserIdleTimerResets() {\n    /* register the resetIdleTimer for events when a user interacts with page */\n    _notIdleEvents.forEach(event => document.addEventListener(event, IdleService.resetIdleTimer, true));\n  },\n\n  unRegisterIdleResets() {\n    /* remove any queued callbacks and events that will queue callbacks */\n    clearTimeout(_timeoutId);\n\n    _notIdleEvents.forEach(event => document.removeEventListener(event, IdleService.resetIdleTimer, true));\n  }\n\n};\nexport default IdleService;","map":{"version":3,"sources":["c:/Users/t73de/Desktop/the console/src/services/idle-service.js"],"names":["_timeoutId","_idleCallback","_notIdleEvents","_FIVE_MINUTES_IN_MS","IdleService","setIdleCallback","idleCallback","resetIdleTimer","ev","console","info","type","clearTimeout","setTimeout","regiserIdleTimerResets","forEach","event","document","addEventListener","unRegisterIdleResets","removeEventListener"],"mappings":"AACA;;;;;AAMA,IAAIA,UAAJ;;AACA,IAAIC,aAAa,GAAG,IAApB;AACA,IAAIC,cAAc,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,UAA3B,EAAuC,QAAvC,EAAiD,YAAjD,CAArB;;AACA,IAAIC,mBAAmB,GAAG,IAAI,EAAJ,GAAS,IAAnC;;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,eAAe,CAACC,YAAD,EAAe;AAC5B;AACAL,IAAAA,aAAa,GAAGK,YAAhB;AACD,GAJiB;;AAKlB;AACAC,EAAAA,cAAc,CAACC,EAAD,EAAK;AACjBC,IAAAA,OAAO,CAACC,IAAR,CAAa,QAAb,EAAuBF,EAAE,CAACG,IAA1B;AACA;;AACAC,IAAAA,YAAY,CAACZ,UAAD,CAAZ;AACA;;AACAA,IAAAA,UAAU,GAAGa,UAAU,CAACZ,aAAD,EAAgBE,mBAAhB,CAAvB;AACD,GAZiB;;AAalBW,EAAAA,sBAAsB,GAAG;AACvB;AACAZ,IAAAA,cAAc,CAACa,OAAf,CAAuBC,KAAK,IAC1BC,QAAQ,CAACC,gBAAT,CAA0BF,KAA1B,EAAiCZ,WAAW,CAACG,cAA7C,EAA6D,IAA7D,CADF;AAGD,GAlBiB;;AAmBlBY,EAAAA,oBAAoB,GAAG;AACrB;AACAP,IAAAA,YAAY,CAACZ,UAAD,CAAZ;;AACAE,IAAAA,cAAc,CAACa,OAAf,CAAuBC,KAAK,IAC1BC,QAAQ,CAACG,mBAAT,CAA6BJ,KAA7B,EAAoCZ,WAAW,CAACG,cAAhD,EAAgE,IAAhE,CADF;AAGD;;AAzBiB,CAApB;AA4BA,eAAeH,WAAf","sourcesContent":["\n/*\n  Idle Service\n\n  this service manages when a user has gone idle (not interacting with the page).\n*/\n\nlet _timeoutId\nlet _idleCallback = null\nlet _notIdleEvents = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart' ]\nlet _FIVE_MINUTES_IN_MS = 5 * 60 * 1000\n\nconst IdleService = {\n  setIdleCallback(idleCallback) {\n    /* store a callback to call when the user goes idle */\n    _idleCallback = idleCallback\n  },\n  /* called when a user interacts with the page */\n  resetIdleTimer(ev) {\n    console.info('event:', ev.type)\n    /* remove any timeouts as the user just interacted */\n    clearTimeout(_timeoutId)\n    /* queue the callback to happen 5 minutes from now */\n    _timeoutId = setTimeout(_idleCallback, _FIVE_MINUTES_IN_MS)\n  },\n  regiserIdleTimerResets() {\n    /* register the resetIdleTimer for events when a user interacts with page */\n    _notIdleEvents.forEach(event =>\n      document.addEventListener(event, IdleService.resetIdleTimer, true)\n    )\n  },\n  unRegisterIdleResets() {\n    /* remove any queued callbacks and events that will queue callbacks */\n    clearTimeout(_timeoutId)\n    _notIdleEvents.forEach(event =>\n      document.removeEventListener(event, IdleService.resetIdleTimer, true)\n    )\n  },\n}\n\nexport default IdleService\n"]},"metadata":{},"sourceType":"module"}