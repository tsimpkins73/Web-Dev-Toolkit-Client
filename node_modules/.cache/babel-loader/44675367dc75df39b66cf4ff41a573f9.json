{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\t73de\\\\Desktop\\\\Web-Dev-Toolkit-Client\\\\src\\\\ResourceTypePage.js\";\nimport React from 'react';\nimport './css/ResourceTypeView.css';\nimport ResourceTypeView from \"./ResourceTypeView.js\";\nimport { Link } from 'react-router-dom';\nimport { API_BASE_URL } from './config';\nexport default class ResourceTypePreview extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.getResourcesForTypes = typeID => {\n      fetch(\"\".concat(API_BASE_URL, \"/resources/byType/\").concat(typeID)).then(response => response.json()).then(typeResources => {\n        this.setState({\n          typeResources\n        });\n      });\n    };\n\n    this.state = {\n      typeResources: [],\n      resourceType: ''\n    };\n  }\n  /* These functions are to retrieve data from the API and fill the state */\n\n\n  /* These functions are what to run when the component mounts and when it receives new props */\n  componentDidMount() {\n    let resourceType = this.props.resourceType;\n\n    if (this.props.favoriteResources) {\n      this.setState({\n        typeResources: this.props.favoriteResources,\n        resourceType: \"Favorites\"\n      });\n    }\n\n    if (this.props.randomResources) {\n      this.setState({\n        typeResources: this.props.randomResources,\n        resourceType: \"Favorites\"\n      });\n    }\n\n    if (this.props.searchTerm) {\n      this.setState({\n        typeResources: this.props.searchResources,\n        resourceType: \"Results\"\n      });\n    } else {\n      this.getResourcesForTypes(resourceType.id);\n      this.setState({\n        resourceType: this.props.resourceType.name\n      });\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.favoriteResources) {\n      this.setState({\n        typeResources: this.props.favoriteResources\n      });\n    } else if (newProps.searchResources) {\n      if (newProps.searchResources !== this.state.typeResources) {\n        this.setState({\n          typeResources: newProps.searchResources\n        });\n      } else {\n        this.setState({\n          typeResources: this.props.searchResources\n        });\n      }\n    } else if (newProps.randomResources) {\n      if (newProps.randomResources !== this.state.typeResources) {\n        this.setState({\n          typeResources: newProps.randomResources\n        });\n      }\n\n      this.setState({\n        typeResources: this.props.randomResources,\n        resourceType: \"Favorites\"\n      });\n    } else if (newProps.resourceType !== this.props.resourceType) {\n      this.getResourcesForTypes(newProps.resourceType.id);\n    } else if (this.props.resourceType) {\n      this.getResourcesForTypes(this.props.resourceType.id);\n    } else {\n      this.setState({\n        typeResources: []\n      });\n    }\n  }\n\n  render(props) {\n    let resourceType = this.state.resourceType;\n    let typeResources = this.state.typeResources;\n    return React.createElement(\"section\", {\n      id: \"resource-full-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      class: \"resource-section-headline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, resourceType), React.createElement(\"section\", {\n      id: \"resource-component-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, typeResources.map(function (resource) {\n      return React.createElement(ResourceTypeView, {\n        resource: resource,\n        resourceType: resourceType,\n        handleFavoriteButton: () => this.props.handleFavoriteButton(resource),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      });\n    })));\n  }\n\n}","map":{"version":3,"sources":["c:/Users/t73de/Desktop/Web-Dev-Toolkit-Client/src/ResourceTypePage.js"],"names":["React","ResourceTypeView","Link","API_BASE_URL","ResourceTypePreview","Component","constructor","props","context","getResourcesForTypes","typeID","fetch","then","response","json","typeResources","setState","state","resourceType","componentDidMount","favoriteResources","randomResources","searchTerm","searchResources","id","name","componentWillReceiveProps","newProps","render","map","resource","handleFavoriteButton"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport './css/ResourceTypeView.css'\r\nimport ResourceTypeView from \"./ResourceTypeView.js\";\r\nimport { Link } from 'react-router-dom';\r\nimport { API_BASE_URL } from './config'\r\n\r\nexport default class ResourceTypePreview extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        this.state = {\r\n            typeResources: [],\r\n            resourceType:''\r\n        };\r\n    }\r\n\r\n /* These functions are to retrieve data from the API and fill the state */  \r\n    getResourcesForTypes = (typeID) => {\r\n        fetch(`${API_BASE_URL}/resources/byType/${typeID}`)\r\n            .then(response => response.json())\r\n            .then((typeResources) => { this.setState({ typeResources }); });\r\n    }\r\n\r\n\r\n\r\n/* These functions are what to run when the component mounts and when it receives new props */        \r\n    componentDidMount() {\r\n        let resourceType = this.props.resourceType;\r\n        if (this.props.favoriteResources) {\r\n            this.setState({ typeResources: this.props.favoriteResources,\r\n            resourceType:\"Favorites\" })\r\n        }\r\n        if (this.props.randomResources) {\r\n            this.setState({ typeResources: this.props.randomResources,\r\n            resourceType:\"Favorites\" })\r\n        }\r\n        if (this.props.searchTerm) {\r\n            this.setState({ typeResources: this.props.searchResources,\r\n            resourceType:\"Results\"})\r\n        }\r\n        else {\r\n            this.getResourcesForTypes(resourceType.id);\r\n            this.setState({ resourceType: this.props.resourceType.name })\r\n        }\r\n    };\r\n\r\n    componentWillReceiveProps(newProps) {\r\n       \r\n        if(newProps.favoriteResources){\r\n            this.setState({ typeResources: this.props.favoriteResources })\r\n        }else if(newProps.searchResources) {\r\n            if(newProps.searchResources !== this.state.typeResources) {\r\n                this.setState({ typeResources: newProps.searchResources })\r\n            }\r\n            else{\r\n            this.setState({ typeResources: this.props.searchResources })\r\n        }\r\n    }else if (newProps.randomResources) {\r\n        if(newProps.randomResources !== this.state.typeResources) {\r\n            this.setState({ typeResources: newProps.randomResources })\r\n        }\r\n        this.setState({ typeResources: this.props.randomResources,\r\n        resourceType:\"Favorites\" })\r\n    }\r\n        else if(newProps.resourceType !== this.props.resourceType){\r\n            this.getResourcesForTypes(newProps.resourceType.id);\r\n        }else if(this.props.resourceType){\r\n            this.getResourcesForTypes(this.props.resourceType.id);\r\n        }\r\n        else{\r\n            this.setState({ typeResources: []})\r\n        }\r\n\r\n    }\r\n\r\n    render(props) {\r\n        let resourceType = this.state.resourceType;\r\n        let typeResources = this.state.typeResources;\r\n        return (\r\n            <section id=\"resource-full-container\">\r\n                <h1 class=\"resource-section-headline\">{resourceType}</h1>\r\n                <section id=\"resource-component-container\">\r\n                    {typeResources.map(function (resource) {\r\n                        return <ResourceTypeView resource={resource}  resourceType={resourceType} handleFavoriteButton={() => this.props.handleFavoriteButton(resource)} />;\r\n                    })}\r\n                </section>\r\n            </section>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}