{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\t73de\\\\Desktop\\\\the console\\\\src\\\\ArticleList.js\";\nimport React from 'react';\nimport ArticlePreview from \"./ArticlePreview.js\";\nimport './css/ArticleList.css';\nimport { API_BASE_URL } from './config';\nexport default class ArticleList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      categoryId: null\n    };\n  }\n\n  fetchData(categoryId) {\n    fetch(\"\".concat(API_BASE_URL, \"/articles/category/\").concat(categoryId)).then(response => response.json()).then(articles => {\n      this.setState({\n        articles,\n        categoryId: categoryId\n      });\n    });\n    console.log(this.state.articles);\n  }\n\n  fetchSearchArticles(searchterm) {\n    let searchArticles = this.props.articles.filter(article => article.text.indexOf(searchterm) >= 0);\n    this.setState({\n      articles: searchArticles\n    });\n    this.props.history.push('/dashboard');\n  }\n\n  componentDidMount() {\n    if (this.props.categoryId) {\n      this.fetchData(this.props.categoryId);\n    } else {\n      this.setState({\n        articles: this.props.articles\n      });\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.categoryId !== this.props.categoryId) {\n      this.fetchData(newProps.categoryId);\n    }\n\n    if (newProps.articles !== this.props.articles) {\n      this.setState({\n        articles: newProps.articles\n      });\n    }\n\n    if (this.props.searchterm !== newProps.searchterm) {\n      this.fetchSearchArticles(newProps.searchterm);\n    }\n  }\n\n  isEmpty(obj) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    let articles = this.state.articles;\n\n    if (this.isEmpty(articles)) {\n      return React.createElement(\"section\", {\n        id: \"ArticleList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"There are no articles for this category\"), \";\");\n    } else {\n      return React.createElement(\"section\", {\n        id: \"ArticleList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, articles.map(function (article) {\n        return React.createElement(ArticlePreview, {\n          article: article,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        });\n      }));\n    }\n  }\n\n}","map":{"version":3,"sources":["c:/Users/t73de/Desktop/the console/src/ArticleList.js"],"names":["React","ArticlePreview","API_BASE_URL","ArticleList","Component","constructor","props","state","articles","categoryId","fetchData","fetch","then","response","json","setState","console","log","fetchSearchArticles","searchterm","searchArticles","filter","article","text","indexOf","history","push","componentDidMount","componentWillReceiveProps","newProps","isEmpty","obj","key","hasOwnProperty","render","map"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ArticlePreview from \"./ArticlePreview.js\";\r\nimport './css/ArticleList.css'\r\nimport { API_BASE_URL } from './config'\r\n\r\nexport default class ArticleList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            articles: [],\r\n            categoryId: null,\r\n        };\r\n    }\r\n\r\n    fetchData(categoryId) {\r\n        fetch(`${API_BASE_URL}/articles/category/${categoryId}`)\r\n            .then(response => response.json())\r\n            .then((articles) => { this.setState({ articles, categoryId: categoryId }); });\r\n            console.log(this.state.articles);\r\n    }\r\n\r\nfetchSearchArticles(searchterm) {\r\n    let searchArticles = this.props.articles.filter(article => article.text.indexOf(searchterm) >= 0);\r\n    this.setState({ articles: searchArticles });\r\n    this.props.history.push('/dashboard');\r\n}    \r\n\r\n    componentDidMount() {\r\n        if (this.props.categoryId) {\r\n            this.fetchData(this.props.categoryId);\r\n        }\r\n        else{\r\n            this.setState({articles: this.props.articles});\r\n        }\r\n    }\r\n    \r\n    componentWillReceiveProps(newProps){\r\n        if (newProps.categoryId !== this.props.categoryId) {\r\n            this.fetchData(newProps.categoryId);\r\n        }        \r\n        if (newProps.articles !== this.props.articles){\r\n            this.setState({articles: newProps.articles})\r\n        }\r\n     if (this.props.searchterm !== newProps.searchterm) {\r\n            this.fetchSearchArticles(newProps.searchterm);\r\n        }\r\n    }\r\n\r\nisEmpty(obj) {\r\n        for(var key in obj) {\r\n            if(obj.hasOwnProperty(key))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    render() {\r\n        let articles = this.state.articles;\r\n        if(this.isEmpty(articles)) {return (\r\n            <section id=\"ArticleList\">\r\n               <h1>There are no articles for this category</h1>;\r\n                            </section>\r\n        );}\r\n        \r\n        else {return (\r\n            <section id=\"ArticleList\">\r\n                {articles.map(function (article) {\r\n                    return <ArticlePreview article={article} />;\r\n                })}\r\n            </section>\r\n        );}\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}