{"ast":null,"code":"import TokenService from '../services/token-service';\nimport config from '../config';\nconst ArticleService = {\n  getArticles() {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/articles\"), {\n      headers: {}\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  getArticle(articleId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/articles/\").concat(articleId), {\n      headers: {\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      }\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  getArticleComments(articleId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/articles/\").concat(articleId, \"/comments\"), {\n      headers: {\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      }\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  },\n\n  postComment(articleId, text, userId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/comments\"), {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        'authorization': \"bearer \".concat(TokenService.getAuthToken())\n      },\n      body: JSON.stringify({\n        article_id: articleId,\n        text,\n        user_id: userId\n      })\n    }).then(res => !res.ok ? res.json().then(e => Promise.reject(e)) : res.json());\n  }\n\n};\nexport default ArticleService;","map":{"version":3,"sources":["C:/Users/t73de/Desktop/the console/src/services/article-service.js"],"names":["TokenService","config","ArticleService","getArticles","fetch","API_ENDPOINT","headers","then","res","ok","json","e","Promise","reject","getArticle","articleId","getAuthToken","getArticleComments","postComment","text","userId","method","body","JSON","stringify","article_id","user_id"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,2BAAzB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,WAAW,GAAG;AACZ,WAAOC,KAAK,WAAIH,MAAM,CAACI,YAAX,gBAAoC;AAC9CC,MAAAA,OAAO,EAAE;AADqC,KAApC,CAAL,CAIJC,IAJI,CAICC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAPD,CAAP;AASD,GAXoB;;AAYrBI,EAAAA,UAAU,CAACC,SAAD,EAAY;AACpB,WAAOX,KAAK,WAAIH,MAAM,CAACI,YAAX,uBAAoCU,SAApC,GAAiD;AAC3DT,MAAAA,OAAO,EAAE;AACP,0CAA2BN,YAAY,CAACgB,YAAb,EAA3B;AADO;AADkD,KAAjD,CAAL,CAKJT,IALI,CAKCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EARD,CAAP;AAUD,GAvBoB;;AAwBrBO,EAAAA,kBAAkB,CAACF,SAAD,EAAY;AAC5B,WAAOX,KAAK,WAAIH,MAAM,CAACI,YAAX,uBAAoCU,SAApC,gBAA0D;AACpET,MAAAA,OAAO,EAAE;AACP,0CAA2BN,YAAY,CAACgB,YAAb,EAA3B;AADO;AAD2D,KAA1D,CAAL,CAKJT,IALI,CAKCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EARD,CAAP;AAUD,GAnCoB;;AAoCrBQ,EAAAA,WAAW,CAACH,SAAD,EAAYI,IAAZ,EAAkBC,MAAlB,EAA0B;AACnC,WAAOhB,KAAK,WAAIH,MAAM,CAACI,YAAX,gBAAoC;AAC9CgB,MAAAA,MAAM,EAAE,MADsC;AAE9Cf,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,0CAA2BN,YAAY,CAACgB,YAAb,EAA3B;AAFO,OAFqC;AAM9CM,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,UAAU,EAAEV,SADO;AAEnBI,QAAAA,IAFmB;AAGnBO,QAAAA,OAAO,EAAEN;AAHU,OAAf;AANwC,KAApC,CAAL,CAYJb,IAZI,CAYCC,GAAG,IACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgBI,CAAC,IAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAArB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAfD,CAAP;AAiBD;;AAtDoB,CAAvB;AAyDA,eAAeR,cAAf","sourcesContent":["import TokenService from '../services/token-service'\r\nimport config from '../config'\r\n\r\nconst ArticleService = {\r\n  getArticles() {\r\n    return fetch(`${config.API_ENDPOINT}/articles`, {\r\n      headers: {\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  getArticle(articleId) {\r\n    return fetch(`${config.API_ENDPOINT}/articles/${articleId}`, {\r\n      headers: {\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  getArticleComments(articleId) {\r\n    return fetch(`${config.API_ENDPOINT}/articles/${articleId}/comments`, {\r\n      headers: {\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  postComment(articleId, text, userId) {\r\n    return fetch(`${config.API_ENDPOINT}/comments`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n        'authorization': `bearer ${TokenService.getAuthToken()}`,\r\n      },\r\n      body: JSON.stringify({\r\n        article_id: articleId,\r\n        text,\r\n        user_id: userId\r\n      }),\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  }\r\n}\r\n\r\nexport default ArticleService\r\n"]},"metadata":{},"sourceType":"module"}