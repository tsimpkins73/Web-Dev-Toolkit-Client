(this["webpackJsonpWeb-Dev-Toolkit"]=this["webpackJsonpWeb-Dev-Toolkit"]||[]).push([[0],{17:function(e,t,r){},27:function(e,t,r){e.exports=r(48)},37:function(e,t,r){},38:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var a,n,o=r(0),s=r.n(o),c=r(23),i=r.n(c),u=r(14),l=r(3),m=r(4),p=r(6),h=r(5),d=r(7),f=r(1),v=r(12),E=(r(17),function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleURLButton=function(e){window.location.href=e},r}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.resource,t=this.props.resourceType;return s.a.createElement("div",{id:"resource-Full"},s.a.createElement("div",{id:"resourceImage"},s.a.createElement("img",{id:"previewImage",alt:"Headline Image for "+e.headline,src:"/images/"+t+".svg"})),s.a.createElement("div",{id:"resourceText"},s.a.createElement("h3",{id:"resourceText"},e.headline),s.a.createElement("p",{id:"resourceText"},e.summary)),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement("button",{onClick:this.handleURLButton.bind(this,e.url)},"Go to Resource"),s.a.createElement("button",{onClick:this.props.handleFavoriteButton},"Favorite Button")))}}]),t}(s.a.Component)),b=r(8),y=r.n(b),g=function(e){function t(e,r){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e,r))).getResourcesForTypes=function(e){fetch("".concat(b.API_BASE_URL,"/resources/byType/").concat(e)).then((function(e){return e.json()})).then((function(e){a.setState({typeResources:e})}))},a.state={typeResources:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.resourceType;this.getResourcesForTypes(e.id)}},{key:"render",value:function(e){var t=this.props.resourceType.name,r=this.state.typeResources;return s.a.createElement("section",{id:"resource-full-container"},s.a.createElement("h1",{class:"resource-section-headline"},t),s.a.createElement("div",{id:"resource-component-container"},r.slice(0,4).map((function(e){var r=this;return s.a.createElement(E,{resource:e,handleFavoriteButton:function(){return r.props.handleFavoriteButton(e)},resourceType:t})}))),s.a.createElement(f.b,{to:"/dashboard/resource/".concat(t)},s.a.createElement("button",{id:"viewMoreButton"},"View All")))}}]),t}(s.a.Component),T=(r(37),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.types,r=this.props.resources;return console.log(t),this.props.searchterm&&(r=this.props.resources.filter((function(t){return t.text.indexOf(e.props.searchterm)>=0}))),s.a.createElement("section",{id:"resourceList"},t.map((function(e){return s.a.createElement(g,{resourceType:e,resources:r})})))}}]),t}(s.a.Component)),R=function(e){function t(e,r){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e,r))).getResourcesForTypes=function(e){fetch("".concat(b.API_BASE_URL,"/resources/byType/").concat(e)).then((function(e){return e.json()})).then((function(e){a.setState({typeResources:e})}))},a.state={typeResources:[],resourceType:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.resourceType;this.props.favoriteResources&&this.setState({typeResources:this.props.favoriteResources,resourceType:"Favorites"}),this.props.randomResources&&this.setState({typeResources:this.props.randomResources,resourceType:"Random"}),this.props.searchTerm?this.setState({typeResources:this.props.searchResources,resourceType:"Results"}):(this.getResourcesForTypes(e.id),this.setState({resourceType:this.props.resourceType.name}))}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.favoriteResources?this.setState({typeResources:this.props.favoriteResources}):e.searchResources?e.searchResources!==this.state.typeResources?this.setState({typeResources:e.searchResources}):this.setState({typeResources:this.props.searchResources}):e.randomResources?(e.randomResources!==this.state.typeResources&&this.setState({typeResources:e.randomResources}),this.setState({typeResources:this.props.randomResources,resourceType:"Favorites"})):e.resourceType!==this.props.resourceType?this.getResourcesForTypes(e.resourceType.id):this.props.resourceType?this.getResourcesForTypes(this.props.resourceType.id):this.setState({typeResources:[]})}},{key:"render",value:function(e){var t=this.state.resourceType,r=this.state.typeResources;return s.a.createElement("section",{id:"resource-full-container"},s.a.createElement("h1",{class:"resource-section-headline"},t),s.a.createElement("section",{id:"resource-component-container"},r.map((function(e){var r=this;return s.a.createElement(E,{resource:e,resourceType:t,handleFavoriteButton:function(){return r.props.handleFavoriteButton(e)}})}))))}}]),t}(s.a.Component),S=(r(38),r(26)),O=r.n(S),j={saveAuthToken:function(e){window.localStorage.setItem(y.a.TOKEN_KEY,e)},getAuthToken:function(){return window.localStorage.getItem(y.a.TOKEN_KEY)},clearAuthToken:function(){window.localStorage.removeItem(y.a.TOKEN_KEY)},hasAuthToken:function(){return!!j.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))},parseJwt:function(e){return O()(e)},readJwtToken:function(){return j.parseJwt(j.getAuthToken())},_getMsUntilExpiry:function(e){return 1e3*e.exp-Date.now()},queueCallbackBeforeExpiry:function(e){var t=j._getMsUntilExpiry(j.readJwtToken());a=setTimeout(e,t-1e4)},clearCallbackBeforeExpiry:function(){clearTimeout(a)}},k=j,w=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleLogoutClick=function(){k.clearAuthToken(),r.props.clearUser()},r.handleSearchSubmit=function(e){r.props.handleSearchForm(e);var t="/dashboard/search/"+e.currentTarget.searchTerm.value;r.props.history.push(t)},r}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",{id:"dashboardContainer"},s.a.createElement("section",{id:"Header"},s.a.createElement("h1",{id:"dashboardHeaderText"},"Web Dev Toolkit"),s.a.createElement("section",{id:"navbar"},s.a.createElement(f.b,{id:"navLink",onClick:this.handleLogoutClick,to:"/"},"Logout"),s.a.createElement(f.b,{id:"navLink",to:"/dashboard"},"Home"),s.a.createElement("form",{onSubmit:this.handleSearchSubmit},s.a.createElement("input",{type:"text",className:"input",name:"searchTerm",placeholder:"Search..."}),s.a.createElement("button",{className:"searchButton",type:"submit"},"Search")),s.a.createElement(f.b,{id:"navLink",to:"/dashboard/favorites"},"Favorites"),s.a.createElement(f.b,{id:"navLink",to:"/dashboard/random"},"Random"))),s.a.createElement("section",{id:"mainContentContainer"},s.a.createElement(v.a,{exact:!0,path:"/dashboard",render:function(t){return s.a.createElement(T,{resources:e.props.resources,types:e.props.types,searchTerm:e.props.searchterm})}}),s.a.createElement(v.a,{path:"/dashboard/resource/:type",render:function(t){var r=e.props.types.find((function(e){return e.name===t.match.params.type}));return s.a.createElement(R,{resourceType:r,resourceTypeName:r.name,handleFavoriteButton:e.props.handleFavoriteButton})}}),s.a.createElement(v.a,{path:"/dashboard/search/:searchterm",render:function(t){var r=t.match.params.searchterm,a=e.props.resources.filter((function(e){return e.summary.indexOf(t.match.params.searchterm)>=0||e.headline.indexOf(t.match.params.searchterm)>=0}));return s.a.createElement(R,{searchResources:a,searchTerm:r,resourceTypeName:r,handleFavoriteButton:e.props.handleFavoriteButton})}}),s.a.createElement(v.a,{path:"/dashboard/favorites",render:function(t){var r=e.props.resources.filter((function(e){return e.favorite}));return s.a.createElement(R,{favoriteResources:r,resourceType:{name:"Favorites"},handleFavoriteButton:e.props.handleFavoriteButton})}}),s.a.createElement(v.a,{path:"/dashboard/random",render:function(t){for(var r=[],a=0;a<10;a++){var n=Math.floor(Math.random()*e.props.resources.length);r.push(e.props.resources[n])}return console.log(r),s.a.createElement(R,{randomResources:r,resourceType:{name:"Random"},handleFavoriteButton:e.props.handleFavoriteButton})}})))}}]),t}(s.a.Component),B=(r(41),function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleURLButton=function(e){window.location.href=e},r}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){this.props.resources;return s.a.createElement("section",{class:"LandingContainer"},s.a.createElement("div",{class:"loginFormHeader"},s.a.createElement("h1",{id:"dashboardHeaderText"},"Web Dev Toolkit"),s.a.createElement("p",null,"A Web Dev resource one-stop shop. Videos, tutorials, courses, and online utilities amassed in one convenient location."),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement(f.b,{to:"/sign-up"},s.a.createElement("button",null,"Sign Up")),s.a.createElement(f.b,{to:"/login"},s.a.createElement("button",null,"Login")))),s.a.createElement("section",{id:"resourceList"},s.a.createElement("div",{id:"lp-resource-component-container"},s.a.createElement("div",{id:"lp-resource-Full"},s.a.createElement("div",{id:"resourceImage"},s.a.createElement("img",{id:"previewImage",alt:"Headline for Tutorials",src:"/images/Tutorials.svg"})),s.a.createElement("div",{id:"resourceText"},s.a.createElement("h1",{id:"resourceTypeHeadline"},"Tutorials"),s.a.createElement(f.b,{to:"/dashboard/resource/Tutorials"},s.a.createElement("button",null,"View Tutorials")))),s.a.createElement("div",{id:"lp-resource-Full"},s.a.createElement("div",{id:"resourceImage"},s.a.createElement("img",{id:"previewImage",alt:"Headline for Courses",src:"/images/Courses.svg"})),s.a.createElement("div",{id:"resourceText"},s.a.createElement("h1",{id:"resourceTypeHeadline"},"Courses"),s.a.createElement(f.b,{to:"/dashboard/resource/Courses"},s.a.createElement("button",null,"View Courses")))),s.a.createElement("div",{id:"lp-resource-Full"},s.a.createElement("div",{id:"lp-resourceImage"},s.a.createElement("img",{id:"previewImage",alt:"Headline for Videos",src:"/images/Videos.svg"})),s.a.createElement("div",{id:"resourceText"},s.a.createElement("h1",{id:"resourceTypeHeadline"},"Videos"),s.a.createElement(f.b,{to:"/dashboard/resource/Videos"},s.a.createElement("button",null,"View Videos")),"    ")),s.a.createElement("div",{id:"lp-resource-Full"},s.a.createElement("div",{id:"resourceImage"},s.a.createElement("img",{id:"previewImage",alt:"Headline for Utilities",src:"/images/Utilities.svg"})),s.a.createElement("div",{id:"resourceText"},s.a.createElement("h1",{id:"resourceTypeHeadline"},"Utilities"),s.a.createElement(f.b,{to:"/dashboard/resource/Utilities"},s.a.createElement("button",null,"View Utilities")))))))}}]),t}(s.a.Component)),A=(r(42),null),F=["mousedown","mousemove","keypress","scroll","touchstart"],U={setIdleCallback:function(e){A=e},resetIdleTimer:function(e){clearTimeout(n),n=setTimeout(A,3e5)},regiserIdleTimerResets:function(){F.forEach((function(e){return document.addEventListener(e,U.resetIdleTimer,!0)}))},unRegisterIdleResets:function(){clearTimeout(n),F.forEach((function(e){return document.removeEventListener(e,U.resetIdleTimer,!0)}))}},L=U,I={postUser:function(e){return fetch("".concat(b.API_BASE_URL,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postLogin:function(e){var t=e.username,r=e.password;return fetch("".concat(b.API_BASE_URL,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:r})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return k.saveAuthToken(e.authToken),L.regiserIdleTimerResets(),k.queueCallbackBeforeExpiry((function(){I.postRefreshToken()})),e}))},postRefreshToken:function(){return fetch("".concat(b.API_BASE_URL,"/auth/refresh"),{method:"POST",headers:{authorization:"Bearer ".concat(k.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return k.saveAuthToken(e.authToken),k.queueCallbackBeforeExpiry((function(){I.postRefreshToken()})),e})).catch((function(e){console.log("refresh token request error"),console.error(e)}))}},C=I,P=function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r.handleSubmitJwtAuth=function(e){e.preventDefault(),r.setState({error:null});var t=e.target,a=t.username,n=t.password;C.postLogin({username:a.value,password:n.value}).then((function(e){a.value="",n.value="",r.props.onLoginSuccess(e.username),r.props.history.push("/dashboard")})).catch((function(e){r.setState({error:e.error})}))},r}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{class:"LoginContainer"},s.a.createElement("div",{class:"LoginForm"},s.a.createElement("div",{class:"loginFormHeader"},s.a.createElement("h1",{class:"lpHeaderText"}," Welcome, Please Sign In! "),s.a.createElement("p",{id:"loginParagraph"}," Guests, please login with Username: webdev@webdevtoolkit.com and Password: Password35!")),s.a.createElement("form",{onSubmit:this.handleSubmitJwtAuth,className:"RegistrationForm"},s.a.createElement("div",{class:"formLine"},s.a.createElement("label",{for:"username"}," Username "),s.a.createElement("input",{type:"text",name:"username"})),s.a.createElement("div",{class:"formLine"},s.a.createElement("label",{for:"password"}," Password "),s.a.createElement("input",{type:"password",name:"password"}),s.a.createElement("br",null)),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement("button",{class:"lpButton"},"Submit"),s.a.createElement(f.b,{to:"/sign-up"},s.a.createElement("button",{class:"lpButton"},"Sign Up")),s.a.createElement("div",null,this.state.error)))))}}]),t}(s.a.Component),_=(r(43),function(e){function t(){var e,r;Object(l.a)(this,t);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(r=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={error:null},r.handleSubmit=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.username,o=t.password;r.setState({error:null}),C.postUser({username:n.value,password:o.value,name:a.value}).then((function(e){a.value="",n.value="",o.value="",r.props.onRegistrationSuccess(),r.props.history.push("/dashboard")})).catch((function(e){r.setState({error:e.error})}))},r}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.handleSubmit;return s.a.createElement("section",{className:"LandingContainer"},s.a.createElement("div",{className:"SignUpForm"},s.a.createElement("div",{class:"loginFormHeader"},s.a.createElement("h1",{className:"lpHeaderText"},"Please Sign Up to Join theConsole")),s.a.createElement("form",{className:"RegistrationForm",onSubmit:e},s.a.createElement("div",{className:"formLine"}," ",s.a.createElement("label",{htmlFor:"Name"},"Name"),s.a.createElement("input",{type:"text",name:"name"})),s.a.createElement("div",{className:"formLine"}," ",s.a.createElement("label",{htmlFor:"Username"},"Email"),s.a.createElement("input",{type:"email",name:"username"})),s.a.createElement("div",{className:"formLine"}," ",s.a.createElement("label",{htmlFor:"Password"},"Password"),s.a.createElement("input",{type:"text",name:"password"})),s.a.createElement("p",{id:"passwordDesc"},"Password must be at least 8 characters, and must contain one upper case, lower case, number and special character"),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement("button",{className:"lpButton",type:"submit"},"Submit"),s.a.createElement(f.b,{to:"/login"},s.a.createElement("button",{className:"lpButton"},"Login")))),s.a.createElement("div",null,this.state.error)))}}]),t}(s.a.Component));_.defaultProps={onRegistrationSuccess:function(){}},r(44).config();var x=function(e){function t(e,r){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e,r))).clearUser=function(){a.setState({currentUser:{}}),localStorage.user="null"},a.handleFavoriteButton=function(e){e.favorite=!e.favorite,a.setState({articles:a.state.articles})},a.handleSearchForm=function(e){e.preventDefault();var t=e.currentTarget.searchTerm.value;a.setState({searchterm:t})},a.onLoginSuccess=function(e){fetch("".concat(b.API_BASE_URL,"/users/").concat(e)).then((function(e){return e.json()})).then((function(e){a.setState({currentUser:e}),localStorage.user=JSON.stringify(e)}))},a.state={resources:[],types:[],resourcesForTypes:[],typeResources:[],searchterm:"",searchResources:[],currentUser:{},users:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"getResources",value:function(){var e=this;fetch("".concat(b.API_BASE_URL,"/resources")).then((function(e){return e.json()})).then((function(t){e.setState({resources:t})}))}},{key:"getTypes",value:function(){var e=this;fetch("".concat(b.API_BASE_URL,"/types")).then((function(e){return e.json()})).then((function(t){e.setState({types:t})}))}},{key:"getUsers",value:function(){var e=this;fetch("".concat(b.API_BASE_URL,"/users")).then((function(e){return e.json()})).then((function(t){e.setState({users:t})}))}},{key:"componentDidMount",value:function(){if(this.getResources(),this.getTypes(),this.getUsers(),localStorage.user){var e=JSON.parse(localStorage.user);this.setState({currentUser:e})}}},{key:"render",value:function(){var e=this,t=this.state.types;return s.a.createElement("main",{className:"App"},s.a.createElement(f.a,null,s.a.createElement(v.a,{exact:!0,path:"/",render:function(r){return s.a.createElement(B,Object.assign({},r,{resources:e.state.resources,types:t,handleFavoriteButton:e.handleFavoriteButton,clearUser:e.clearUser,currentresource:e.state.currentArticle}))}}),s.a.createElement(v.a,{path:"/login",render:function(t){return s.a.createElement(P,Object.assign({onLoginSuccess:e.onLoginSuccess},t))}}),s.a.createElement(v.a,{path:"/sign-up",component:_}),s.a.createElement(v.a,{path:"/dashboard",render:function(r){var a;return s.a.createElement(w,Object.assign({},r,(a={handleArticleButton:e.handleArticleButton,users:e.state.users,resources:e.state.resources,types:t,searchterm:e.state.searchterm,currentUser:e.state.currentUser},Object(u.a)(a,"types",e.state.types),Object(u.a)(a,"handleSearchForm",e.handleSearchForm),Object(u.a)(a,"handleFavoriteButton",e.handleFavoriteButton),Object(u.a)(a,"clearUser",e.clearUser),Object(u.a)(a,"currentresource",e.state.currentArticle),a)))}})))}}]),t}(s.a.Component);r(47);i.a.render(s.a.createElement(x,null),document.getElementById("root"))},8:function(e,t,r){e.exports={PORT:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_BASE_URL:"http://localhost:8000/api"}).PORT||8e3,NODE_ENV:"production",API_BASE_URL:"http://localhost:8000/api",TOKEN_KEY:"WebDevToolkit-auth-token"}}},[[27,1,2]]]);
//# sourceMappingURL=main.27625802.chunk.js.map