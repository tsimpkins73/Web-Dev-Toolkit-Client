(this["webpackJsonpWeb-Dev-Toolkit"]=this["webpackJsonpWeb-Dev-Toolkit"]||[]).push([[0],{17:function(e,t,r){},27:function(e,t,r){e.exports=r(48)},32:function(e,t,r){},38:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n,a,o=r(0),s=r.n(o),c=r(23),u=r.n(c),i=r(14),l=r(2),p=r(3),h=r(5),m=r(4),d=r(6),f=r(7),v=r(12),E=(r(17),function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).handleURLButton=function(e){window.location.href=e},r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.resource,t=this.props.resourceType;return s.a.createElement("section",{id:"resource-Full"},s.a.createElement("div",{id:"resourceImage"},s.a.createElement("img",{id:"previewImage",alt:"Headline Image for "+e.headline,src:t.type_image})),s.a.createElement("div",{id:"resourceText"},s.a.createElement("h3",{id:"resourceText"},e.headline),s.a.createElement("p",{id:"resourceText"},e.summary)),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement("button",{onClick:this.handleURLButton.bind(this,e.url)},"Go to Resource"),s.a.createElement("button",{onClick:this.props.handleFavoriteButton},"Favorite Button")))}}]),t}(s.a.Component)),b=(r(32),function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).handleURLButton=function(e){window.location.href=e},r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.resources;return s.a.createElement("section",{class:"LandingContainer"},s.a.createElement("div",{class:"loginFormHeader"},s.a.createElement("h1",{id:"HeaderText"},"Web Dev Toolkit"),s.a.createElement("p",null,"A Web Dev resource one-stop shop. Videos, tutorials, courses, and online utilities amassed in one convenient location."),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement(f.b,{to:"/sign-up"},s.a.createElement("button",null,"Sign Up")),s.a.createElement(f.b,{to:"/login"},s.a.createElement("button",null,"Login")))),s.a.createElement("section",{id:"resourceList"},s.a.createElement("div",{id:"lp-resource-component-container"},e.slice(0,4).map((function(e){var t=this;return s.a.createElement(E,{resource:e,handleFavoriteButton:function(){return t.props.handleFavoriteButton(e)}})})))))}}]),t}(s.a.Component)),y=(r(38),r(26)),T=r.n(y),g=r(8),S=r.n(g),O={saveAuthToken:function(e){window.localStorage.setItem(S.a.TOKEN_KEY,e)},getAuthToken:function(){return window.localStorage.getItem(S.a.TOKEN_KEY)},clearAuthToken:function(){window.localStorage.removeItem(S.a.TOKEN_KEY)},hasAuthToken:function(){return!!O.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))},parseJwt:function(e){return T()(e)},readJwtToken:function(){return O.parseJwt(O.getAuthToken())},_getMsUntilExpiry:function(e){return 1e3*e.exp-Date.now()},queueCallbackBeforeExpiry:function(e){var t=O._getMsUntilExpiry(O.readJwtToken());n=setTimeout(e,t-1e4)},clearCallbackBeforeExpiry:function(){clearTimeout(n)}},j=O,R=null,k=["mousedown","mousemove","keypress","scroll","touchstart"],B={setIdleCallback:function(e){R=e},resetIdleTimer:function(e){clearTimeout(a),a=setTimeout(R,3e5)},regiserIdleTimerResets:function(){k.forEach((function(e){return document.addEventListener(e,B.resetIdleTimer,!0)}))},unRegisterIdleResets:function(){clearTimeout(a),k.forEach((function(e){return document.removeEventListener(e,B.resetIdleTimer,!0)}))}},w=B,A={postUser:function(e){return fetch("".concat(g.API_BASE_URL,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postLogin:function(e){var t=e.username,r=e.password;return fetch("".concat(g.API_BASE_URL,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:r})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return j.saveAuthToken(e.authToken),w.regiserIdleTimerResets(),j.queueCallbackBeforeExpiry((function(){A.postRefreshToken()})),e}))},postRefreshToken:function(){return fetch("".concat(g.API_BASE_URL,"/auth/refresh"),{method:"POST",headers:{authorization:"Bearer ".concat(j.getAuthToken())}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return j.saveAuthToken(e.authToken),j.queueCallbackBeforeExpiry((function(){A.postRefreshToken()})),e})).catch((function(e){console.log("refresh token request error"),console.error(e)}))}},F=A,L=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={error:null},r.handleSubmitJwtAuth=function(e){e.preventDefault(),r.setState({error:null});var t=e.target,n=t.username,a=t.password;F.postLogin({username:n.value,password:a.value}).then((function(e){n.value="",a.value="",r.props.onLoginSuccess(e.username),r.props.history.push("/dashboard")})).catch((function(e){r.setState({error:e.error})}))},r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{class:"LoginContainer"},s.a.createElement("div",{class:"LoginForm"},s.a.createElement("div",{class:"loginFormHeader"},s.a.createElement("h1",{class:"lpHeaderText"}," Welcome, Please Sign In! "),s.a.createElement("p",null," Guests, please login with Username: webdev@webdevtoolkit.com and Password: Password35!")),s.a.createElement("form",{onSubmit:this.handleSubmitJwtAuth,className:"RegistrationForm"},s.a.createElement("div",{class:"formLine"},s.a.createElement("label",{for:"username"}," Username "),s.a.createElement("input",{type:"text",name:"username"})),s.a.createElement("div",{class:"formLine"},s.a.createElement("label",{for:"password"}," Password "),s.a.createElement("input",{type:"password",name:"password"}),s.a.createElement("br",null)),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement("button",{class:"lpButton"},"Submit"),s.a.createElement(f.b,{to:"/sign-up"},s.a.createElement("button",{class:"lpButton"},"Sign Up")),s.a.createElement("div",null,this.state.error)))))}}]),t}(s.a.Component),U=(r(41),function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={error:null},r.handleSubmit=function(e){e.preventDefault();var t=e.target,n=t.name,a=t.username,o=t.password;r.setState({error:null}),F.postUser({username:a.value,password:o.value,name:n.value}).then((function(e){n.value="",a.value="",o.value="",r.props.onRegistrationSuccess(),r.props.history.push("/dashboard")})).catch((function(e){r.setState({error:e.error})}))},r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.handleSubmit;return s.a.createElement("section",{className:"LandingContainer"},s.a.createElement("div",{className:"SignUpForm"},s.a.createElement("div",{class:"loginFormHeader"},s.a.createElement("h1",{className:"lpHeaderText"},"Please Sign Up to Join theConsole")),s.a.createElement("form",{className:"RegistrationForm",onSubmit:e},s.a.createElement("div",{className:"formLine"}," ",s.a.createElement("label",{htmlFor:"Name"},"Name"),s.a.createElement("input",{type:"text",name:"name"})),s.a.createElement("div",{className:"formLine"}," ",s.a.createElement("label",{htmlFor:"Username"},"Email"),s.a.createElement("input",{type:"email",name:"username"})),s.a.createElement("div",{className:"formLine"}," ",s.a.createElement("label",{htmlFor:"Password"},"Password"),s.a.createElement("input",{type:"text",name:"password"})),s.a.createElement("p",{id:"passwordDesc"},"Password must be at least 8 characters, and must contain one upper case, lower case, number and special character"),s.a.createElement("div",{id:"resourceButtons"},s.a.createElement("button",{className:"lpButton",type:"submit"},"Submit"),s.a.createElement(f.b,{to:"/login"},s.a.createElement("button",{className:"lpButton"},"Login")))),s.a.createElement("div",null,this.state.error)))}}]),t}(s.a.Component));U.defaultProps={onRegistrationSuccess:function(){}};var _=function(e){function t(e,r){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e,r))).getResourcesForTypes=function(e){fetch("".concat(g.API_BASE_URL,"/resources/byType/").concat(e)).then((function(e){return e.json()})).then((function(e){n.setState({typeResources:e})}))},n.state={typeResources:[]},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.resourceType;this.getResourcesForTypes(e.id)}},{key:"render",value:function(e){var t=this.props.resourceType,r=this.state.typeResources;return s.a.createElement("section",{id:"resource-full-container"},s.a.createElement("h1",{class:"resource-section-headline"},t.name),s.a.createElement("section",{id:"resource-component-container"},r.slice(0,4).map((function(e){var r=this;return s.a.createElement(E,{resource:e,handleFavoriteButton:function(){return r.props.handleFavoriteButton(e)},resourceType:t})}))),s.a.createElement(f.b,{to:"/dashboard/resource/".concat(this.props.resourceType.name)},s.a.createElement("button",null,"View All")))}}]),t}(s.a.Component),P=(r(42),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.types,r=this.props.resources;return this.props.searchterm&&(r=this.props.resources.filter((function(t){return t.text.indexOf(e.props.searchterm)>=0}))),s.a.createElement("section",{id:"resourceList"},t.map((function(e){return s.a.createElement(_,{resourceType:e,resources:r})})))}}]),t}(s.a.Component)),N=function(e){function t(e,r){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e,r))).getResourcesForTypes=function(e){fetch("".concat(g.API_BASE_URL,"/resources/byType/").concat(e)).then((function(e){return e.json()})).then((function(e){n.setState({typeResources:e})}))},n.state={typeResources:[],resourceType:""},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.resourceType;this.props.favoriteResources&&this.setState({typeResources:this.props.favoriteResources,resourceType:"Favorites"}),this.props.searchTerm?this.setState({typeResources:this.props.searchResources,resourceType:"Results"}):(this.getResourcesForTypes(e.id),this.setState({resourceType:this.props.resourceType.name}))}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.favoriteResources?this.setState({typeResources:this.props.favoriteResources}):e.searchResources?e.searchResources!==this.state.typeResources?this.setState({typeResources:e.searchResources}):this.setState({typeResources:this.props.searchResources}):e.resourceType!==this.props.resourceType?this.getResourcesForTypes(e.resourceType.id):this.props.resourceType?this.getResourcesForTypes(this.props.resourceType.id):this.setState({typeResources:[]})}},{key:"render",value:function(e){var t=this.state.resourceType,r=this.state.typeResources;return s.a.createElement("section",{id:"resource-full-container"},s.a.createElement("h1",{class:"resource-section-headline"},t),s.a.createElement("section",{id:"resource-component-container"},r.map((function(e){var t=this;return s.a.createElement(E,{resource:e,handleFavoriteButton:function(){return t.props.handleFavoriteButton(e)}})}))))}}]),t}(s.a.Component),C=(r(43),function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).handleLogoutClick=function(){j.clearAuthToken(),r.props.clearUser()},r.handleSearchSubmit=function(e){r.props.handleSearchForm(e);var t="/dashboard/search/"+e.currentTarget.searchTerm.value;r.props.history.push(t)},r}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",{id:"dashboardContainer"},s.a.createElement("section",{id:"Header"},s.a.createElement("h1",{id:"dashboardHeaderText"},"Web Dev Toolkit"),s.a.createElement("section",{id:"navbar"},s.a.createElement(f.b,{id:"navLink",onClick:this.handleLogoutClick,to:"/"},"Logout"),s.a.createElement(f.b,{id:"navLink",to:"/dashboard"},"Home"),s.a.createElement("form",{onSubmit:this.handleSearchSubmit},s.a.createElement("input",{type:"text",className:"input",name:"searchTerm",placeholder:"Search..."}),s.a.createElement("button",{className:"searchButton",type:"submit"},"Search")),s.a.createElement(f.b,{id:"navLink",to:"/dashboard/favorites"},"Favorites"))),s.a.createElement("section",{id:"mainContentContainer"},s.a.createElement(v.a,{exact:!0,path:"/dashboard",render:function(t){return s.a.createElement(P,{resources:e.props.resources,types:e.props.types,searchTerm:e.props.searchterm})}}),s.a.createElement(v.a,{path:"/dashboard/resource/:type",render:function(t){var r=e.props.types.find((function(e){return e.name===t.match.params.type}));return s.a.createElement(N,{resourceType:r,resourceTypeName:r.name,handleFavoriteButton:e.props.handleFavoriteButton})}}),s.a.createElement(v.a,{path:"/dashboard/search/:searchterm",render:function(t){var r=t.match.params.searchterm,n=e.props.resources.filter((function(e){return e.summary.indexOf(t.match.params.searchterm)>=0||e.headline.indexOf(t.match.params.searchterm)>=0}));return s.a.createElement(N,{searchResources:n,searchTerm:r,resourceTypeName:r,handleFavoriteButton:e.props.handleFavoriteButton})}}),s.a.createElement(v.a,{path:"/dashboard/favorites",render:function(t){var r=e.props.resources.filter((function(e){return e.favorite}));return s.a.createElement(N,{favoriteResources:r,resourceType:{name:"Favorites"},handleFavoriteButton:e.props.handleFavoriteButton})}})))}}]),t}(s.a.Component));r(44).config();var I=function(e){function t(e,r){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e,r))).clearUser=function(){n.setState({currentUser:{}}),localStorage.user="null"},n.handleFavoriteButton=function(e){e.favorite=!e.favorite,n.setState({articles:n.state.articles})},n.handleSearchForm=function(e){e.preventDefault();var t=e.currentTarget.searchTerm.value;n.setState({searchterm:t})},n.onLoginSuccess=function(e){fetch("".concat(g.API_BASE_URL,"/users/").concat(e)).then((function(e){return e.json()})).then((function(e){n.setState({currentUser:e}),localStorage.user=JSON.stringify(e)}))},n.state={resources:[],types:[],resourcesForTypes:[],typeResources:[],searchterm:"",searchResources:[],currentUser:{},users:[]},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"getResources",value:function(){var e=this;fetch("".concat(g.API_BASE_URL,"/resources")).then((function(e){return e.json()})).then((function(t){e.setState({resources:t})}))}},{key:"getTypes",value:function(){var e=this;fetch("".concat(g.API_BASE_URL,"/types")).then((function(e){return e.json()})).then((function(t){e.setState({types:t})}))}},{key:"getUsers",value:function(){var e=this;fetch("".concat(g.API_BASE_URL,"/users")).then((function(e){return e.json()})).then((function(t){e.setState({users:t})}))}},{key:"componentDidMount",value:function(){if(this.getResources(),this.getTypes(),this.getUsers(),localStorage.user){var e=JSON.parse(localStorage.user);this.setState({currentUser:e})}}},{key:"render",value:function(){var e=this;return s.a.createElement("main",{className:"App"},s.a.createElement(f.a,null,s.a.createElement(v.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(b,Object.assign({},t,{resources:e.state.resources,handleFavoriteButton:e.handleFavoriteButton,clearUser:e.clearUser,currentresource:e.state.currentArticle}))}}),s.a.createElement(v.a,{path:"/login",render:function(t){return s.a.createElement(L,Object.assign({onLoginSuccess:e.onLoginSuccess},t))}}),s.a.createElement(v.a,{path:"/sign-up",component:U}),s.a.createElement(v.a,{path:"/dashboard",render:function(t){var r;return s.a.createElement(C,Object.assign({},t,(r={handleArticleButton:e.handleArticleButton,users:e.state.users,resources:e.state.resources,types:e.state.types,searchterm:e.state.searchterm,currentUser:e.state.currentUser},Object(i.a)(r,"types",e.state.types),Object(i.a)(r,"handleSearchForm",e.handleSearchForm),Object(i.a)(r,"handleFavoriteButton",e.handleFavoriteButton),Object(i.a)(r,"clearUser",e.clearUser),Object(i.a)(r,"currentresource",e.state.currentArticle),r)))}})))}}]),t}(s.a.Component);r(47);u.a.render(s.a.createElement(I,null),document.getElementById("root"))},8:function(e,t,r){e.exports={PORT:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_BASE_URL:"http://localhost:8000/api"}).PORT||8e3,NODE_ENV:"production",API_BASE_URL:"http://localhost:8000/api",TOKEN_KEY:"WebDevToolkit-auth-token"}}},[[27,1,2]]]);
//# sourceMappingURL=main.35019945.chunk.js.map